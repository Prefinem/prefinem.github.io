<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">
		<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
		<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>

		<title>Amazon Affliate Link</title>
	</head>
	<body>
		<div id="root"></div>
		<script type="text/babel">

			const getUrl = (url) => {
				const [baseUrl] = url.split('?');

				return baseUrl ? `${baseUrl}?tag=prefinem-20` : '';
			}

			const App = () => {
				const [url, setUrl] = React.useState('');

				return (
					<div className="container font-sans antialiased mx-auto my-12">
						<h1 className="text-xl">Amazon Affliate Link</h1>
						<div className="p-2 border-solid border-grey-200 border rounded bg-gray-100 shadow">
							<input
								type="text"
								id="link"
								name="link"
								placeholder="Amazon Product Link"
								className="focus:outline-none mt-4 bg-gray-100 w-full border-solid border-b border-gray-500"
								onChange={(event) => setUrl(event.target.value)}
							/>
							<div className="mt-4">
								<h3>Generated Affliate Link</h3>
								<div id="results"><a class="underline text-blue-500" href={getUrl(url)} target="_blank">{getUrl(url)}</a></div>
							</div>
						</div>
					</div>
				);
			};

			ReactDOM.render(
				<App />,
				document.getElementById('root')
			);
		</script>
	</body>
</html>